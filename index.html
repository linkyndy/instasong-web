<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Instasong</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script type="text/x-handlebars">
    <h2>Instasong</h2>

    {{outlet}}
  </script>

  <script type="text/x-handlebars" data-template-name="index">
    {{#if session.isAuthenticated}}
      <button {{ action 'invalidateSession' }} >Logout</button>
    {{else}}
      <button {{ action 'authenticateWithFacebook' }} style="cursor: pointer;">Login</button>
    {{/if}}

    <button {{action 'getSuggestion'}}>Get suggestion</button>

    {{#if suggestion}}
      <p>Artist: {{suggestion.artist.name}}</p>
      <p>Song: {{suggestion.song.name}}</p>
      <audio {{bind-attr src=suggestion.song.stream_url}} controls/>
    {{else}}
      <p>No suggestion yet...</p>
    {{/if}}
  </script>

  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="http://builds.emberjs.com/release/ember-template-compiler.js"></script>
  <script src="http://builds.emberjs.com/release/ember.debug.js"></script>
  <script src="http://builds.emberjs.com/beta/ember-data.js"></script>
  <script src="js/libs/ember-simple-auth-0.8.0-beta.2.js"></script>
  <script src="http://connect.facebook.net/en_US/all.js"></script>
  <script src="js/app.js"></script>
  <!-- to activate the test runner, add the "?test" query string parameter -->
  <script src="tests/runner.js"></script>
</body>
</html>
